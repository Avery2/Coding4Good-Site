<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Coding for Good</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/style.css"/>
    <link rel="stylesheet" type="text/css" href="/css/neutra/stylesheet.css"/>
    <script src="/js/jquery-3.2.1.min.js"></script>
    <script src="/js/jquery-ui.js"></script>
    <script>
      $(function () {
        $("#signup-form").submit(function () {
          if (($("#title").val() == '') | ($("#description").val() == '') | ($("#leader").val() == '') | ($("#members").val() == '')) {
            $("#error-msg").html('Please fill out all the fields');
            return false;
          }
          $.ajax({
            url: "/api/project/createProject",
            method: "POST",
            dataType: "json",
            data: {
              title: $("#title").val(),
              description: $("#description").val(),
              leader: $("#leader").val(),
              members: $("#members").val()
            },
            success: function () {
              window.location.href = "/profile";
            },
            error: function (jqXHR, textStatus, errorThrown) {
              $("#error-msg").html(jqXHR.responseJSON);
            }
          });
          return false;
        });
      });
    </script>
</head>
<body>

<% include template/nav.ejs %>

<div class="login-signup">
    <p style="color:red;" id="error-msg"></p>
    <form id="signup-form">
        <div class="input-group new-project-input">
            <div class="input-group-addon">Title:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>
            <input class="form-control" type="text" id="title" placeholder="Title">
        </div>

        <div class="input-group new-project-input">
            <div class="input-group-addon">Leader:</div>
            <input class="form-control" type="text" id="leader" placeholder="Leader">
        </div>

        <div class="input-group new-project-input">
            <div class="input-group-addon">Members:</div>
            <input class="form-control" type="text" id="members" placeholder="Members">
        </div>

        <div class="new-project-input">
            <textarea class="form-control" type="text" id="description" rows="10"></textarea>
        </div>

    </form>
    <button type="submit" form="signup-form" class="btn login-signup-btn primary-button">Signup</button>
</div>

<% include template/footer.ejs %>
</body>
</html>
